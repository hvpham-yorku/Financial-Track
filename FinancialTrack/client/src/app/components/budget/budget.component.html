<div class="budget-container">
  <div class="budget-header">
    <h2>Monthly Budget Tracker</h2>
    <div class="month-selector">
      <p-calendar [(ngModel)]="monthYear" view="month" dateFormat="mm/yy"
                  (onSelect)="loadBudgets()" inputId="monthYear"></p-calendar>
    </div>
  </div>

  <div class="expense-section">
    <h3>Budget Categories</h3>
    <div class="expense-table">
      <div class="budget-list" *ngIf="budgets.length > 0; else emptyState">
        <div class="budget-item" *ngFor="let budget of budgets">
          <span class="category-name">{{ budget.category }}</span>
          <span class="budget-amount">{{ budget.amount | currency:'USD':'symbol':'1.2-2' }}</span>
          <button pButton icon="pi pi-trash" class="p-button-text p-button-sm delete-btn"
                  (click)="deleteBudget(budget.id)"></button>
        </div>
      </div>
      <ng-template #emptyState>
        <div class="empty-message">No budget categories added yet</div>
      </ng-template>
    </div>
  </div>

  <div class="add-expense-section">
    <h3>Add New Budget Category</h3>
    <div class="add-expense-form">
      <p-dropdown [options]="expenseCategories" [(ngModel)]="newExpenseCategory"
                 optionLabel="name" placeholder="Select category" class="category-dropdown"></p-dropdown>
      <p-inputNumber [(ngModel)]="newExpenseAmount" mode="currency" currency="USD"
                    locale="en-US" placeholder="Enter amount" class="amount-input"></p-inputNumber>
      <button pButton icon="pi pi-plus" label="Add Budget" class="add-button"
              (click)="addBudget(newExpenseCategory?.name, newExpenseAmount || 0)"
              [disabled]="!newExpenseCategory || !newExpenseAmount"></button>
    </div>
  </div>

  <div class="summary-section">
    <h3>Budget Summary</h3>
    <div class="total-budget">
      <span class="summary-label">Total Budget:</span>
      <span class="total-amount">{{ totalExpenses | currency:'USD':'symbol':'1.2-2' }}</span>
    </div>
  </div>
</div>